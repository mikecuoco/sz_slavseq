from snakemake.utils import min_version

##### set minimum snakemake version #####
min_version("7.8.5")


configfile: "config/config.yml"


include: "rules/common.smk"
include: "rules/ref.smk"
include: "rules/trim.smk"
include: "rules/align.smk"
include: "rules/model.smk"


rule all:
    input:
        expand(
            "results/somatic_summary/{donor}/{dna_type}/{file}",
            donor=samples["donor"],
            dna_type=samples["dna_type"],
            file=[
                "Merged_y_pred.csv",
                # "slavseq_sz-intersections-cluster.csv",
                # "somatic_candidates-cluster.csv",
            ],
        ),
    wildcard_constraints:
        dna_type="\w+",
        donor="\d+",
